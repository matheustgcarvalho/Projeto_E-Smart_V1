<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>umclick tecnologia | Meus Favoritos</title>
    <style>
        /* Reset e Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', sans-serif;
            border-radius: 0 !important;
        }

        :root {
            --azul-deep: #050a14;
            --azul-primario: #0078d4;
            --azul-claro: #00d4ff;
            --bg-site: #f5f7fa;
            --sidebar-bg: #050a14;
            --texto-principal: #1a2e4d;
            --texto-secundario: #607d8b;
            --sidebar-width: 260px;
            --sidebar-collapsed-width: 75px;
            
            /* Cores dos Sistemas */
            --color-gestao: #00c853;
            --color-analytics: #9d50bb;
            --color-logistica: #ffab00;
            --color-seguranca: #ff4757;
            --color-rh: #00d4ff;
            --color-financeiro: #2ecc71;
        }

        body {
            background-color: var(--bg-site);
            display: flex;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Estilos da Sidebar (IGUAIS ao Sistemas_site.html) */
        nav.sidebar {
            width: var(--sidebar-width);
            background-color: var(--sidebar-bg);
            border-right: 4px solid var(--azul-primario);
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            z-index: 100;
            transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: visible; 
        }
        nav.sidebar.collapsed { width: var(--sidebar-collapsed-width); }

        .toggle-btn {
            position: absolute;
            right: -14px; 
            top: 35px;
            width: 28px;
            height: 28px;
            background-color: var(--azul-primario);
            color: white;
            border: none;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            z-index: 110;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }
        nav.sidebar.collapsed .toggle-btn svg { transform: rotate(180deg); }

        .sidebar-header { padding: 30px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); min-height: 95px; overflow: hidden; }
        .sidebar-header h1 { display: flex; align-items: baseline; text-transform: lowercase; font-weight: 800; white-space: nowrap; transition: opacity 0.2s; }
        nav.sidebar.collapsed .sidebar-header h1 { opacity: 0; visibility: hidden; }

        .txt-umclick { font-size: 1.3rem; color: #ffffff; letter-spacing: -0.5px; }
        .txt-umclick span { color: var(--azul-claro); }
        .txt-tecnologia { font-size: 0.7rem; color: #ffffff; font-weight: 600; margin-left: 1px; }

        .menu-list { list-style: none; padding: 20px 0; flex-grow: 1; overflow-y: auto; scrollbar-width: none; }
        .menu-item { padding: 15px 25px; display: flex; align-items: center; color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.9rem; font-weight: 600; border-left: 4px solid transparent; transition: all 0.2s; white-space: nowrap; }
        .menu-item svg { min-width: 24px; margin-right: 15px; }
        nav.sidebar.collapsed .menu-item span { opacity: 0; visibility: hidden; }
        .menu-item:hover, .menu-item.active { background-color: rgba(255, 255, 255, 0.05); color: var(--azul-claro); border-left-color: var(--azul-claro); }

        /* ÁREA PRINCIPAL */
        main {
            margin-left: var(--sidebar-width);
            flex-grow: 1;
            padding: 40px 60px;
            transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        body:has(nav.sidebar.collapsed) main { margin-left: var(--sidebar-collapsed-width); }

        .header-favoritos { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 40px; border-bottom: 2px solid #e1e8ed; padding-bottom: 20px; }
        .header-favoritos h2 { font-size: 1.8rem; color: var(--texto-principal); font-weight: 700; }
        .header-favoritos h2 span { color: var(--azul-primario); }
        .btn-voltar { text-decoration: none; color: var(--azul-primario); font-size: 0.9rem; font-weight: 700; display: flex; align-items: center; gap: 5px; transition: 0.2s; }
        .btn-voltar:hover { transform: translateX(-5px); }

        /* GRID FAVORITOS */
        .favorites-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
        .fav-card { background: #fff; border: 1px solid #e1e8ed; padding: 20px; display: flex; align-items: center; gap: 20px; position: relative; transition: 0.3s; cursor: pointer; }
        .fav-card:hover { box-shadow: 0 10px 25px rgba(0,0,0,0.05); border-color: var(--azul-primario); }
        
        .fav-icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background: #f8fafc; font-weight: bold; }
        .fav-icon svg { width: 24px; height: 24px; }

        /* CLASSES DE CORES DOS ÍCONES (Mantendo a cor original do Dashboard) */
        .fav-card.gestao .fav-icon { background: #e8f5e9; color: var(--color-gestao); }
        .fav-card.analytics .fav-icon { background: #f3e5f5; color: var(--color-analytics); }
        .fav-card.logistica .fav-icon { background: #fff8e1; color: var(--color-logistica); }
        .fav-card.seguranca .fav-icon { background: #ffebee; color: var(--color-seguranca); }
        .fav-card.rh .fav-icon { background: #e1f5fe; color: var(--color-rh); }
        .fav-card.financeiro .fav-icon { background: #e8f5e9; color: var(--color-financeiro); }

        .fav-info h3 { font-size: 0.95rem; text-transform: uppercase; color: var(--texto-principal); margin-bottom: 4px; }
        .fav-info p { font-size: 0.8rem; color: var(--texto-secundario); }
        .btn-remove-fav { position: absolute; top: 10px; right: 10px; background: none; border: none; color: #ffb800; cursor: pointer; transition: 0.2s; }
        .empty-state { text-align: center; padding: 100px 0; color: var(--texto-secundario); display: none; grid-column: 1 / -1; }
    </style>
</head>
<body>

    <main>
        <div class="header-favoritos">
            <div>
                <h2>Meus <span>Favoritos</span></h2>
                <p style="font-size: 0.85rem; color: var(--texto-secundario); margin-top: 5px;">Acesso rápido aos seus módulos preferidos</p>
            </div>
            <a href="Sistema_site.html" class="btn-voltar">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                Voltar ao Dashboard
            </a>
        </div>

        <div class="favorites-grid" id="favGrid"></div>

        <div class="empty-state" id="emptyMsg">
            <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#cbd5e1" stroke-width="1" style="margin-bottom: 20px;"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg>
            <p>Você ainda não favoritou nenhum módulo.</p>
            <a href="Sistema_site.html" style="color: var(--azul-primario); font-weight: 600; text-decoration: none; margin-top: 10px; display: inline-block;">Explorar Módulos</a>
        </div>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderFavorites();
        });

        function renderFavorites() {
            const grid = document.getElementById('favGrid');
            const emptyMsg = document.getElementById('emptyMsg');
            const favorites = JSON.parse(localStorage.getItem('umclick_favorites')) || [];

            if (favorites.length === 0) {
                grid.innerHTML = '';
                emptyMsg.style.display = 'block';
            } else {
                emptyMsg.style.display = 'none';
                grid.innerHTML = ''; 
                
                favorites.forEach(fav => {
                    // Adicionada a classe ${fav.className} para resgatar a cor original
                    grid.innerHTML += `
                        <div class="fav-card ${fav.className}" id="fav-${fav.id}">
                            <div class="fav-icon">
                                ${fav.iconHTML}
                            </div>
                            <div class="fav-info">
                                <h3>${fav.title}</h3>
                                <p>${fav.desc}</p>
                            </div>
                            <button class="btn-remove-fav" onclick="removeFavorite('${fav.name}', '${fav.id}')">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg>
                            </button>
                        </div>`;
                });
            }
        }

        function removeFavorite(name, id) {
            let favorites = JSON.parse(localStorage.getItem('umclick_favorites')) || [];
            favorites = favorites.filter(fav => fav.name !== name);
            localStorage.setItem('umclick_favorites', JSON.stringify(favorites));
            
            const el = document.getElementById(`fav-${id}`);
            if(el) {
                el.style.opacity = '0';
                el.style.transform = 'scale(0.8)';
                setTimeout(() => renderFavorites(), 300);
            }
        }
    </script>
    <script src="sidebar.js"></script>
</body>
</html>